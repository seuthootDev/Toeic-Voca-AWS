(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{4458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),r=s(2115),l=s(5695),d=s(7168),m=s(8482),x=s(5295),i=s(3580),n=s(9946);let c=(0,n.A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);var o=s(646);let h=(0,n.A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function p(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(!0),[n,p]=(0,r.useState)({totalWords:0,learningWords:0,wellKnownWords:0,learningInProgress:0,completionRate:0,masteryRate:0,wordHistory:{}}),[y,j]=(0,r.useState)("");return((0,r.useEffect)(()=>{let e=localStorage.getItem("userid");e&&j(e),(async()=>{try{let e=await fetch("/api/get-stats",{credentials:"include"});if(!e.ok)throw Error("Failed to fetch stats");let t=await e.json();p(t)}catch(e){console.error("Error fetching stats:",e),(0,i.oR)({title:"오류 발생",description:"통계를 불러오는데 실패했습니다.",variant:"destructive"})}finally{s(!1)}})()},[]),t)?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-primary-100",children:(0,a.jsx)("p",{className:"text-primary-700",children:"통계를 불러오는 중..."})}):(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-primary-100 p-3 md:p-4",children:(0,a.jsxs)(m.Zp,{className:"w-full max-w-[95%] sm:max-w-md border-primary-200 shadow-lg overflow-hidden",children:[(0,a.jsxs)(m.aR,{className:"bg-primary text-white p-3 md:p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[(0,a.jsx)(c,{className:"h-5 w-5 md:h-6 md:w-6"}),(0,a.jsx)(m.ZB,{className:"text-xl md:text-2xl font-bold",children:"학습 통계"})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>{document.cookie="auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",localStorage.removeItem("userid"),e.push("/login"),(0,i.oR)({title:"로그아웃",description:"로그아웃 되었습니다."})},className:"text-white hover:text-primary-100 h-8 text-xs md:text-sm px-2 touch-target",children:"로그아웃"})]}),(0,a.jsxs)(m.BT,{className:"text-primary-100 text-xs md:text-sm mt-1",children:[y," 님의 TOEIC 단어 학습 현황"]})]}),(0,a.jsxs)(m.Wu,{className:"space-y-4 md:space-y-6 p-3 md:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-1 md:mb-2 flex justify-between",children:[(0,a.jsx)("span",{className:"text-primary-700 text-xs md:text-sm",children:"전체 학습 진행률"}),(0,a.jsxs)("span",{className:"font-bold text-primary text-xs md:text-sm",children:[n.completionRate.toFixed(1),"%"]})]}),(0,a.jsx)(x.k,{value:n.completionRate,className:"h-2 md:h-3 bg-primary-200"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 md:p-4 text-center border border-green-200 shadow-sm",children:[(0,a.jsx)("div",{className:"flex justify-center mb-1 md:mb-2",children:(0,a.jsx)(o.A,{className:"h-5 w-5 md:h-6 md:w-6 text-green-500"})}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-green-700",children:"잘 아는 단어"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:n.wellKnownWords}),(0,a.jsxs)("p",{className:"text-[10px] md:text-xs text-green-600 mt-1",children:[n.masteryRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-yellow-50 p-3 md:p-4 text-center border border-yellow-200 shadow-sm",children:[(0,a.jsx)("div",{className:"flex justify-center mb-1 md:mb-2",children:(0,a.jsx)(h,{className:"h-5 w-5 md:h-6 md:w-6 text-yellow-500"})}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-yellow-700",children:"학습 중"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-yellow-600",children:n.learningInProgress})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-primary-50 p-3 md:p-4 text-center border border-primary-200 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs md:text-sm text-primary-700",children:"전체 단어"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-primary",children:n.totalWords}),(0,a.jsxs)("p",{className:"text-[10px] md:text-xs text-primary-600 mt-1",children:["학습 시작: ",n.learningWords," / ",n.totalWords]})]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row justify-between gap-2 pt-2 md:pt-4",children:(0,a.jsx)(d.$,{onClick:()=>e.push("/dashboard"),className:"bg-primary hover:bg-primary-700 text-white h-9 md:h-10 text-xs md:text-sm w-full sm:w-auto touch-target",children:"학습으로 돌아가기"})})]})]})})}},9883:(e,t,s)=>{Promise.resolve().then(s.bind(s,4458))}},e=>{var t=t=>e(e.s=t);e.O(0,[514,451,441,684,358],()=>t(9883)),_N_E=e.O()}]);